# Case-study оптимизации

## Загрузка JSON в базу данных
  Начал я с того что установил rspec и написал тесты для контроллера и рейк таски. Тест для рэйк таски все время проходил при любом времени обработки, наверное из за асинхронности рейка. Пришлось убрать ее в app и создать для нее класс там. С загрузкой json особо не мудрствовал, просто добавляя повторяющиеся объекты в массив получилось обработать большой файл за 2 минуты. Задействовал activerecord-import и сократив время обработки до 30 секунд и остановился на этом. В реальной жизни я бы на двух минутах остановился, ещё может быть и sleep воткнул между итерациями, чтобы на полчаса-час это растянуть. 
